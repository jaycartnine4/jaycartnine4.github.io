<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Isometric Diagonal Grid</title>
<style>
  body { background: #222; display: flex; justify-content: center; align-items: center; height: 100vh; }
  canvas { background: #333; border: 1px solid #555; }
</style>
</head>
<body>
<canvas id="isoCanvas" width="800" height="600"></canvas>

<script>
// ===== CONFIGURATION =====
const tileWidth = 64;   // Width of a tile in pixels
const tileHeight = 32;  // Height of a tile in pixels
const gridCols = 10;    // Number of columns
const gridRows = 10;    // Number of rows

const canvas = document.getElementById('isoCanvas');
const ctx = canvas.getContext('2d');

// ===== CARTESIAN TO ISOMETRIC =====
function cartToIso(x, y) {
    return {
        x: (x - y) * (tileWidth / 2),
        y: (x + y) * (tileHeight / 2)
    };
}

// ===== ISOMETRIC TO CARTESIAN =====
function isoToCart(isoX, isoY) {
    return {
        x: (isoY / (tileHeight / 2) + isoX / (tileWidth / 2)) / 2,
        y: (isoY / (tileHeight / 2) - isoX / (tileWidth / 2)) / 2
    };
}

// ===== DRAW GRID =====
function drawGrid() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.strokeStyle = "#888";
    ctx.lineWidth = 1;

    for (let row = 0; row < gridRows; row++) {
        for (let col = 0; col < gridCols; col++) {
            const { x, y } = cartToIso(col, row);
            drawTile(x + canvas.width / 2, y + 50); // Offset to center
        }
    }
}

// ===== DRAW SINGLE TILE =====
function drawTile(centerX, centerY) {
    ctx.beginPath();
    ctx.moveTo(centerX, centerY); // top
    ctx.lineTo(centerX + tileWidth / 2, centerY + tileHeight / 2); // right
    ctx.lineTo(centerX, centerY + tileHeight); // bottom
    ctx.lineTo(centerX - tileWidth / 2, centerY + tileHeight / 2); // left
    ctx.closePath();
    ctx.stroke();
}

// ===== INTERACTION: CLICK TO HIGHLIGHT TILE =====
canvas.addEventListener('click', (e) => {
    const rect = canvas.getBoundingClientRect();
    const mouseX = e.clientX - rect.left - canvas.width / 2;
    const mouseY = e.clientY - rect.top - 50;

    const cart = isoToCart(mouseX, mouseY);
    const col = Math.floor(cart.x);
    const row = Math.floor(cart.y);

    if (col >= 0 && col < gridCols && row >= 0 && row < gridRows) {
        drawGrid();
        const { x, y } = cartToIso(col, row);
        ctx.fillStyle = "rgba(255, 255, 0, 0.5)";
        ctx.beginPath();
        ctx.moveTo(x + canvas.width / 2, y + 50);
        ctx.lineTo(x + canvas.width / 2 + tileWidth / 2, y + 50 + tileHeight / 2);
        ctx.lineTo(x + canvas.width / 2, y + 50 + tileHeight);
        ctx.lineTo(x + canvas.width / 2 - tileWidth / 2, y + 50 + tileHeight / 2);
        ctx.closePath();
        ctx.fill();
    }
});

// ===== INITIAL DRAW =====
drawGrid();
</script>
</body>
</html>





